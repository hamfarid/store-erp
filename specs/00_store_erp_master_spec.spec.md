# ğŸ“‹ Master Specification: Store ERP v2.0.0 - Phoenix Rising

**Version:** 2.0.0
**Codename:** Phoenix Rising
**Date:** 2026-01-17
**Role:** The Architect
**Status:** âœ… Approved
**Language:** Arabic (RTL) / English
**Visual Hash:** MERMAID-STORE-ERP-2026-01-17

---

## 1. Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø±Ø¦ÙŠ | The Visual Model

### 1.1 System Architecture Overview

```mermaid
graph TB
    subgraph "Presentation Layer"
        UI[React 18 + Vite]
        DARK[Dark Mode]
        RTL[RTL Support]
    end
    
    subgraph "API Layer"
        API[Flask RESTful API]
        JWT[JWT Auth]
        TFA[2FA TOTP]
        RBAC[RBAC 68 Permissions]
    end
    
    subgraph "Business Layer"
        LOT[Lot System]
        POS[POS System]
        PUR[Purchase System]
        RPT[Reports System]
        SEC[Security System]
    end
    
    subgraph "Data Layer"
        ORM[SQLAlchemy ORM]
        DB[(SQLite/PostgreSQL)]
        CACHE[Cache Layer]
    end
    
    subgraph "Infrastructure"
        NGINX[Nginx]
        CF[Cloudflare]
        SSL[SSL/TLS]
    end
    
    UI --> API
    DARK --> UI
    RTL --> UI
    API --> JWT
    API --> TFA
    API --> RBAC
    JWT --> LOT
    JWT --> POS
    JWT --> PUR
    JWT --> RPT
    JWT --> SEC
    LOT --> ORM
    POS --> ORM
    PUR --> ORM
    RPT --> ORM
    SEC --> ORM
    ORM --> DB
    ORM --> CACHE
    NGINX --> API
    CF --> NGINX
    SSL --> CF
```

### 1.2 User Journey - Main Flow

```mermaid
sequenceDiagram
    participant U as User
    participant UI as Frontend
    participant API as Backend API
    participant DB as Database
    
    U->>UI: Login Request
    UI->>API: POST /auth/login
    API->>DB: Validate Credentials
    DB-->>API: User Data
    API-->>UI: JWT Token + 2FA Required?
    
    alt 2FA Enabled
        UI->>U: Enter TOTP Code
        U->>UI: TOTP Code
        UI->>API: POST /auth/verify-2fa
        API-->>UI: Access Token
    end
    
    UI-->>U: Dashboard
    
    U->>UI: Open POS
    UI->>API: GET /pos/shift/current
    API-->>UI: Shift Data
    
    U->>UI: Scan Barcode
    UI->>API: GET /pos/products/barcode/{code}
    API->>DB: FIFO Lot Selection
    DB-->>API: Product + Best Lot
    API-->>UI: Product Details
    
    U->>UI: Complete Sale
    UI->>API: POST /pos/sale
    API->>DB: Update Inventory
    DB-->>API: Sale Confirmed
    API-->>UI: Invoice
```

### 1.3 Lot State Machine

```mermaid
stateDiagram-v2
    [*] --> AVAILABLE: Created
    
    AVAILABLE --> RESERVED: Reserve Quantity
    AVAILABLE --> SOLD: Direct Sale
    AVAILABLE --> EXPIRED: Expiry Date Reached
    AVAILABLE --> DAMAGED: Quality Issue
    AVAILABLE --> IN_REVIEW: Quality Check
    AVAILABLE --> BLOCKED: Admin Block
    
    RESERVED --> AVAILABLE: Release
    RESERVED --> SOLD: Complete Sale
    RESERVED --> EXPIRED: Expiry During Hold
    
    SOLD --> RETURNED: Customer Return
    
    RETURNED --> AVAILABLE: Re-stock
    RETURNED --> DAMAGED: Quality Fail
    
    IN_REVIEW --> AVAILABLE: Pass QC
    IN_REVIEW --> BLOCKED: Fail QC
    IN_REVIEW --> DAMAGED: Severe Issues
    
    EXPIRED --> DAMAGED: Dispose
    DAMAGED --> [*]: Write-off
    BLOCKED --> AVAILABLE: Admin Unblock
    BLOCKED --> [*]: Permanent Block
```

### 1.4 Purchase Approval Workflow

```mermaid
flowchart LR
    A[Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡<br/>PENDING] -->|Ø¥Ù†Ø´Ø§Ø¡| B{Ù…Ø±Ø§Ø¬Ø¹Ø©}
    B -->|Ø±ÙØ¶| C[Ù…Ø±ÙÙˆØ¶<br/>REJECTED]
    B -->|Ù…ÙˆØ§ÙÙ‚Ø©| D[Ù…ÙˆØ§ÙÙ‚Ø© Ù…Ø¯ÙŠØ±<br/>MANAGER_APPROVED]
    D -->|Ø±ÙØ¶| C
    D -->|Ù…ÙˆØ§ÙÙ‚Ø©| E[Ù…ÙˆØ§ÙÙ‚Ø© Ù…Ø§Ù„ÙŠØ©<br/>FINANCE_APPROVED]
    E -->|Ø±ÙØ¶| C
    E -->|Ù…ÙˆØ§ÙÙ‚Ø©| F[Ù…Ø¹ØªÙ…Ø¯<br/>CONFIRMED]
    F -->|Ø§Ø³ØªÙ„Ø§Ù… Ø¬Ø²Ø¦ÙŠ| G[Ù…Ø³ØªÙ„Ù… Ø¬Ø²Ø¦ÙŠØ§Ù‹<br/>PARTIAL]
    F -->|Ø§Ø³ØªÙ„Ø§Ù… ÙƒØ§Ù…Ù„| H[Ù…ÙƒØªÙ…Ù„<br/>COMPLETED]
    G -->|Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ| H
```

---

## 2. Ù‚ØµØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… | User Story (The "Why")

### 2.1 Ø§Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©

> **ÙƒØµØ§Ø­Ø¨ Ù…ØªØ¬Ø± Ø¹Ø±Ø¨ÙŠ**ØŒ Ø£Ø±ÙŠØ¯ **Ù†Ø¸Ø§Ù… ERP Ø´Ø§Ù…Ù„ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„**ØŒ Ø­ØªÙ‰ **Ø£ØªÙ…ÙƒÙ† Ù…Ù† Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„ÙŠ Ø¨ÙƒÙØ§Ø¡Ø© Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ø£Ù†Ø¸Ù…Ø© Ø¨Ø§Ù‡Ø¸Ø© Ø§Ù„Ø«Ù…Ù† Ù…Ø«Ù„ SAP**.

### 2.2 Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙˆØ§Ù„Ø­Ù„

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           Ø§Ù„Ù…Ø´ÙƒÙ„Ø©                                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 1. âŒ Ø£Ù†Ø¸Ù…Ø© ERP Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ø¨Ø§Ù‡Ø¸Ø© Ø§Ù„Ø«Ù…Ù† (SAP, Oracle, Odoo)                â•‘
â•‘ 2. âŒ Ø¶Ø¹Ù Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø£Ù†Ø¸Ù…Ø©                               â•‘
â•‘ 3. âŒ ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ­Ø§Ø¬Ø© Ù„ØªØ¯Ø±ÙŠØ¨ Ù…ÙƒØ«Ù                                  â•‘
â•‘ 4. âŒ Ø¹Ø¯Ù… Ù…Ø±ÙˆÙ†Ø© Ø§Ù„ØªØ®ØµÙŠØµ Ø­Ø³Ø¨ Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø­Ù„ÙŠ                        â•‘
â•‘ 5. âŒ ØªÙƒØ§Ù„ÙŠÙ ØµÙŠØ§Ù†Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ±Ø³ÙˆÙ… Ø§Ø´ØªØ±Ø§Ùƒ Ù…Ø³ØªÙ…Ø±Ø©                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                           Ø§Ù„Ø­Ù„                                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ âœ… Ù…Ø¬Ø§Ù†ÙŠ ÙˆÙ…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± - Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ… Ø§Ø´ØªØ±Ø§Ùƒ                                â•‘
â•‘ âœ… Ø¯Ø¹Ù… Ø¹Ø±Ø¨ÙŠ Ø£ØµÙŠÙ„ - Ù…ØµÙ…Ù… Ù…Ù† Ø§Ù„Ø£Ø³Ø§Ø³ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©                                 â•‘
â•‘ âœ… Ø³Ù‡Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… - ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø¯ÙŠÙ‡ÙŠØ© Ø¨Ø¯ÙˆÙ† ØªØ¹Ù‚ÙŠØ¯                               â•‘
â•‘ âœ… Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ®ØµÙŠØµ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ - ÙƒÙˆØ¯ Ù…ÙØªÙˆØ­ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„                         â•‘
â•‘ âœ… ØªÙƒØ§Ù„ÙŠÙ ØµÙŠØ§Ù†Ø© Ù…Ù†Ø®ÙØ¶Ø© - ÙŠÙ…ÙƒÙ† Ø¥Ø¯Ø§Ø±ØªÙ‡ Ø¯Ø§Ø®Ù„ÙŠØ§Ù‹                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 2.3 User Stories by System

| # | System | User Story |
|---|--------|------------|
| US-001 | Lot | ÙƒÙ…Ø¯ÙŠØ± Ù…Ø®Ø²ÙˆÙ†ØŒ Ø£Ø±ÙŠØ¯ ØªØªØ¨Ø¹ Ù„ÙˆØªØ§Øª Ø§Ù„Ø¨Ø°ÙˆØ± Ù…Ø¹ Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¨Ø§ØªØŒ Ø­ØªÙ‰ Ø£Ø¶Ù…Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª |
| US-002 | POS | ÙƒÙƒØ§Ø´ÙŠØ±ØŒ Ø£Ø±ÙŠØ¯ Ù…Ø³Ø­ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ ÙˆØ§Ø®ØªÙŠØ§Ø± FIFO ØªÙ„Ù‚Ø§Ø¦ÙŠØŒ Ø­ØªÙ‰ Ø£Ø³Ø±Ø¹ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹ |
| US-003 | Purchase | ÙƒÙ…Ø¯ÙŠØ± Ù…Ø´ØªØ±ÙŠØ§ØªØŒ Ø£Ø±ÙŠØ¯ Ø³ÙŠØ± Ø¹Ù…Ù„ Ù…ÙˆØ§ÙÙ‚Ø§Øª 4 Ù…Ø±Ø§Ø­Ù„ØŒ Ø­ØªÙ‰ Ø£Ø¶Ù…Ù† Ø§Ù„Ø±Ù‚Ø§Ø¨Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© |
| US-004 | Reports | ÙƒÙ…Ø­Ø§Ø³Ø¨ØŒ Ø£Ø±ÙŠØ¯ ØªÙ‚Ø§Ø±ÙŠØ± ØªØµØ¯Ø± PDF/ExcelØŒ Ø­ØªÙ‰ Ø£Ù‚Ø¯Ù… ØªÙ‚Ø§Ø±ÙŠØ± Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© |
| US-005 | RBAC | ÙƒÙ…Ø¯ÙŠØ± Ù†Ø¸Ø§Ù…ØŒ Ø£Ø±ÙŠØ¯ 68 ØµÙ„Ø§Ø­ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©ØŒ Ø­ØªÙ‰ Ø£ØªØ­ÙƒÙ… ÙÙŠ ÙˆØµÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† |
| US-006 | UI/UX | ÙƒÙ…Ø³ØªØ®Ø¯Ù… Ø¹Ø±Ø¨ÙŠØŒ Ø£Ø±ÙŠØ¯ ÙˆØ§Ø¬Ù‡Ø© RTL Ù…Ø¹ Dark ModeØŒ Ø­ØªÙ‰ Ø£Ø¹Ù…Ù„ Ø¨Ø§Ø±ØªÙŠØ§Ø­ |
| US-007 | Security | ÙƒÙ…Ø¯ÙŠØ± Ø£Ù…Ù†ÙŠØŒ Ø£Ø±ÙŠØ¯ JWT + 2FA + Ø³Ø¬Ù„ ØªØ¯Ù‚ÙŠÙ‚ØŒ Ø­ØªÙ‰ Ø£Ø­Ù…ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ© |

---

## 3. Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© | Functional Requirements (The "What")

### 3.1 Ù†Ø¸Ø§Ù… Lot Ø§Ù„Ù…ØªÙ‚Ø¯Ù… â­â­â­

> Ù†Ø¸Ø§Ù… Ù…ØªÙ‚Ø¯Ù… Ù„ØªØªØ¨Ø¹ Ø§Ù„Ù„ÙˆØªØ§Øª Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø¨Ø°ÙˆØ± ÙˆØ§Ù„Ø£Ø³Ù…Ø¯Ø©

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-LOT-001 | 50+ Ø­Ù‚Ù„ Ù…ØªØ®ØµØµ Ù„ØªØªØ¨Ø¹ ÙƒÙ„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù„ÙˆØª | P0 | âœ… |
| REQ-LOT-002 | ØªØªØ¨Ø¹ Ø§Ù„Ø¬ÙˆØ¯Ø© (Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¨Ø§ØªØŒ Ø§Ù„Ù†Ù‚Ø§Ø¡ØŒ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©) | P0 | âœ… |
| REQ-LOT-003 | Ù„ÙˆØªØ§Øª ÙˆØ²Ø§Ø±ÙŠØ© Ù…Ø¹ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© | P1 | âœ… |
| REQ-LOT-004 | 8 Ø­Ø§Ù„Ø§Øª Ù„Ù„ÙˆØª (Ù…ØªØ§Ø­ØŒ Ù…Ø­Ø¬ÙˆØ²ØŒ Ù…Ø¨Ø§Ø¹ØŒ Ù…Ù†ØªÙ‡ÙŠØŒ Ù…Ø¹Ø·ÙˆØ¨ØŒ Ù…Ø±ØªØ¬Ø¹ØŒ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©ØŒ Ù…Ø­Ø¸ÙˆØ±) | P0 | âœ… |
| REQ-LOT-005 | Ø§Ø®ØªÙŠØ§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ FIFO/LIFO Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª | P0 | âœ… |
| REQ-LOT-006 | ØªØªØ¨Ø¹ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ø¹ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ© | P0 | âœ… |
| REQ-LOT-007 | Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª | P1 | âœ… |
| REQ-LOT-008 | 10 APIs ÙƒØ§Ù…Ù„Ø© Ù„Ù„ØªÙƒØ§Ù…Ù„ | P0 | âœ… |

#### API Endpoints

```yaml
Lot API:
  - GET    /api/lots                    # List all lots
  - GET    /api/lots/{id}               # Get lot details
  - POST   /api/lots                    # Create new lot
  - PUT    /api/lots/{id}               # Update lot
  - DELETE /api/lots/{id}               # Delete lot (soft)
  - GET    /api/lots/expiring           # Get expiring lots
  - GET    /api/lots/by-product/{id}    # Get lots by product
  - POST   /api/lots/{id}/reserve       # Reserve lot quantity
  - POST   /api/lots/{id}/release       # Release reservation
  - GET    /api/lots/fifo/{product_id}  # Get FIFO selection
```

### 3.2 Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ (POS) â­â­â­

> Ù†Ø¸Ø§Ù… POS Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆØ³Ø±ÙŠØ¹

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-POS-001 | ÙˆØ§Ø¬Ù‡Ø© Ø³Ø±ÙŠØ¹Ø© ÙˆÙ…Ø³ØªØ¬ÙŠØ¨Ø© Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© | P0 | âœ… |
| REQ-POS-002 | Ù…Ø³Ø­ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ | P0 | âœ… |
| REQ-POS-003 | Ø§Ø®ØªÙŠØ§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ÙˆØªØ§Øª (FIFO) | P0 | âœ… |
| REQ-POS-004 | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ±Ø¯ÙŠØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© | P0 | âœ… |
| REQ-POS-005 | Ø·Ø±Ù‚ Ø¯ÙØ¹ Ù…ØªØ¹Ø¯Ø¯Ø© (Ù†Ù‚Ø¯ØŒ Ø¨Ø·Ø§Ù‚Ø©ØŒ Ø¢Ø¬Ù„ØŒ ØªØ­ÙˆÙŠÙ„) | P0 | âœ… |
| REQ-POS-006 | Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ù…Ø¹ ØªØ®ØµÙŠØµ ÙƒØ§Ù…Ù„ | P0 | âœ… |
| REQ-POS-007 | Ø¯Ø¹Ù… Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙˆØ§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ | P1 | âœ… |
| REQ-POS-008 | 10 APIs Ù„Ù„ØªÙƒØ§Ù…Ù„ | P0 | âœ… |

#### API Endpoints

```yaml
POS API:
  - POST /api/pos/shift/open            # Open new shift
  - POST /api/pos/shift/close           # Close current shift
  - GET  /api/pos/shift/current         # Get current shift
  - POST /api/pos/sale                  # Create sale
  - GET  /api/pos/sale/{id}             # Get sale details
  - POST /api/pos/sale/{id}/return      # Process return
  - GET  /api/pos/products/search       # Search products
  - GET  /api/pos/products/barcode/{code} # Get by barcode
  - GET  /api/pos/shift/report          # Shift report
  - GET  /api/pos/daily-summary         # Daily summary
```

### 3.3 Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª â­â­

> Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-PUR-001 | Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ ÙƒØ§Ù…Ù„Ø© | P0 | âœ… |
| REQ-PUR-002 | Ø³ÙŠØ± Ø¹Ù…Ù„ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© (4 Ù…Ø±Ø§Ø­Ù„) | P0 | âœ… |
| REQ-PUR-003 | Ø§Ø³ØªÙ„Ø§Ù… Ø¬Ø²Ø¦ÙŠ/ÙƒØ§Ù…Ù„ Ù…Ø¹ ØªØªØ¨Ø¹ Ø¯Ù‚ÙŠÙ‚ | P0 | âœ… |
| REQ-PUR-004 | Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØªØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… | P0 | âœ… |
| REQ-PUR-005 | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† Ø§Ù„ÙƒØ§Ù…Ù„Ø© | P1 | âœ… |
| REQ-PUR-006 | ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª | P1 | âœ… |
| REQ-PUR-007 | 10 APIs Ù„Ù„ØªÙƒØ§Ù…Ù„ | P0 | âœ… |

### 3.4 Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± â­â­

> Ù†Ø¸Ø§Ù… ØªÙ‚Ø§Ø±ÙŠØ± Ø°ÙƒÙŠ ÙˆØ´Ø§Ù…Ù„

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-RPT-001 | 8+ Ø£Ù†ÙˆØ§Ø¹ ØªÙ‚Ø§Ø±ÙŠØ± (Ù…Ø¨ÙŠØ¹Ø§ØªØŒ Ù…Ø´ØªØ±ÙŠØ§ØªØŒ Ù…Ø®Ø²ÙˆÙ†ØŒ Ø£Ø±Ø¨Ø§Ø­) | P0 | âœ… |
| REQ-RPT-002 | ØªØµØ¯ÙŠØ± Ù…ØªØ¹Ø¯Ø¯ (PDF, Excel, CSV) | P0 | âœ… |
| REQ-RPT-003 | Ø·Ø¨Ø§Ø¹Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ø¹ ØªØ®ØµÙŠØµ ÙƒØ§Ù…Ù„ | P1 | âœ… |
| REQ-RPT-004 | ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø¬Ø¯ÙˆÙ„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ | P2 | â³ |
| REQ-RPT-005 | ÙÙ„Ø§ØªØ± Ù…Ø®ØµØµØ© Ù„ÙƒÙ„ ØªÙ‚Ø±ÙŠØ± | P0 | âœ… |
| REQ-RPT-006 | Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© | P1 | âœ… |
| REQ-RPT-007 | 8 APIs Ù„Ù„ØªÙƒØ§Ù…Ù„ | P0 | âœ… |

#### Report Types

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š Sales Report         â”‚ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª    â”‚ PDF, Excel, CSV â”‚
â”‚ ğŸ“¦ Purchase Report      â”‚ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª   â”‚ PDF, Excel, CSV â”‚
â”‚ ğŸ“‹ Inventory Report     â”‚ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†     â”‚ PDF, Excel, CSV â”‚
â”‚ ğŸ’° Profit Report        â”‚ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø±Ø¨Ø§Ø­     â”‚ PDF, Excel      â”‚
â”‚ â° Lot Expiry Report    â”‚ ØªÙ‚Ø±ÙŠØ± Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù„ÙˆØª â”‚ PDF, Excel      â”‚
â”‚ ğŸ‘¥ Customer Report      â”‚ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡     â”‚ PDF, Excel      â”‚
â”‚ ğŸ­ Supplier Report      â”‚ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†    â”‚ PDF, Excel      â”‚
â”‚ ğŸ’µ Financial Report     â”‚ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ    â”‚ PDF, Excel      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (RBAC) â­â­â­

> Ù†Ø¸Ø§Ù… ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-RBAC-001 | 68 ØµÙ„Ø§Ø­ÙŠØ© Ù…Ø­Ø¯Ø¯Ø© Ù„ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© | P0 | âœ… |
| REQ-RBAC-002 | 7 Ø£Ø¯ÙˆØ§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠØ© | P0 | âœ… |
| REQ-RBAC-003 | ØªØ¹ÙŠÙŠÙ† Ù…Ø±Ù† Ù„Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª | P0 | âœ… |
| REQ-RBAC-004 | Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª | P0 | âœ… |
| REQ-RBAC-005 | Ø³Ø¬Ù„ ØªØ¯Ù‚ÙŠÙ‚ Ø´Ø§Ù…Ù„ | P0 | âœ… |
| REQ-RBAC-006 | 6 APIs Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© | P0 | âœ… |

#### Default Roles Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Role       â”‚ Ø§Ù„Ø¯ÙˆØ±    â”‚ Permissions                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Admin          â”‚ Ù…Ø¯ÙŠØ±     â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 68/68    â”‚
â”‚ Manager        â”‚ Ù…Ø¯ÙŠØ± Ù‚Ø³Ù… â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 55/68    â”‚
â”‚ Accountant     â”‚ Ù…Ø­Ø§Ø³Ø¨    â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 35/68    â”‚
â”‚ Sales          â”‚ Ù…Ø¨ÙŠØ¹Ø§Øª   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 30/68    â”‚
â”‚ Warehouse      â”‚ Ù…Ø³ØªÙˆØ¯Ø¹   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 25/68    â”‚
â”‚ Cashier        â”‚ ÙƒØ§Ø´ÙŠØ±    â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 20/68    â”‚
â”‚ Viewer         â”‚ Ù…Ø´Ø§Ù‡Ø¯    â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 10/68    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6 Ù†Ø¸Ø§Ù… UI/UX â­â­

> ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¹ØµØ±ÙŠØ©

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-UI-001 | Design System ÙƒØ§Ù…Ù„ (150+ Ù…ØªØºÙŠØ± CSS) | P0 | âœ… |
| REQ-UI-002 | Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø­Ø¯ÙŠØ«Ø© Ù…Ø¹ Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© | P0 | âœ… |
| REQ-UI-003 | Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† (Dark Mode) | P1 | âœ… |
| REQ-UI-004 | Ø¯Ø¹Ù… RTL ÙƒØ§Ù…Ù„ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ© | P0 | âœ… |
| REQ-UI-005 | ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ (Mobile, Tablet, Desktop) | P0 | âœ… |
| REQ-UI-006 | 73 Ù…ÙƒÙˆÙ† UI Ù‚Ø§Ø¨Ù„ Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… | P0 | âœ… |
| REQ-UI-007 | 229 Ù…ÙƒÙˆÙ† React Ø¥Ø¬Ù…Ø§Ù„Ø§Ù‹ | P0 | âœ… |

### 3.7 Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø¬Ù„Ø§Øª (Logging) â­â­â­

> Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ù…ØªÙ‚Ø¯Ù…

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-LOG-001 | Ø³Ø¬Ù„Ø§Øª JSON Ù…Ù†Ø¸Ù…Ø© | P0 | âœ… |
| REQ-LOG-002 | 5 Ù…Ø³ØªÙˆÙŠØ§Øª (DEBUG, INFO, WARNING, ERROR, CRITICAL) | P0 | âœ… |
| REQ-LOG-003 | 4 ÙØ¦Ø§Øª (Application, Security, Performance, Errors) | P0 | âœ… |
| REQ-LOG-004 | 7 Ø¯ÙˆØ§Ù„ Ù…ØªØ®ØµØµØ© Ù„Ù„ØªØ³Ø¬ÙŠÙ„ | P0 | âœ… |
| REQ-LOG-005 | ØªØ¯ÙˆÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ù„ÙØ§Øª | P1 | âœ… |
| REQ-LOG-006 | ÙÙ„ØªØ±Ø© ÙˆØ¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù… | P1 | âœ… |

### 3.8 Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª â­â­

> Ø¨Ù†ÙŠØ© ØªØ­ØªÙŠØ© Ù‚ÙˆÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-TEST-001 | 23 Ø§Ø®ØªØ¨Ø§Ø± (100% Ù†Ø¬Ø§Ø­) | P0 | âœ… |
| REQ-TEST-002 | ØªØºØ·ÙŠØ© 95%+ Ù„Ù„ÙƒÙˆØ¯ | P0 | âœ… |
| REQ-TEST-003 | Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙƒØ§Ù…Ù„ Ø´Ø§Ù…Ù„Ø© | P0 | âœ… |
| REQ-TEST-004 | pytest configuration ÙƒØ§Ù…Ù„ | P0 | âœ… |
| REQ-TEST-005 | Coverage reporting ØªÙ„Ù‚Ø§Ø¦ÙŠ | P1 | âœ… |
| REQ-TEST-006 | CI/CD ready | P1 | âœ… |

### 3.9 Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ«ÙŠÙ‚ â­â­â­

> ØªÙˆØ«ÙŠÙ‚ Ø´Ø§Ù…Ù„ ÙˆÙ…ÙØµÙ„

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-DOC-001 | 8 Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ© | P0 | âœ… |
| REQ-DOC-002 | 5,000+ Ø³Ø·Ø± Ù…Ù† Ø§Ù„ØªÙˆØ«ÙŠÙ‚ | P0 | âœ… |
| REQ-DOC-003 | Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (500+ Ø³Ø·Ø±) | P0 | âœ… |
| REQ-DOC-004 | Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø·ÙˆØ± (600+ Ø³Ø·Ø±) | P0 | âœ… |
| REQ-DOC-005 | ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© (1,000+ Ø³Ø·Ø±) | P0 | âœ… |
| REQ-DOC-006 | API Documentation ÙƒØ§Ù…Ù„ | P0 | âœ… |

### 3.10 Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø§Ù† â­â­

> Ø£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù… ÙˆÙ…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª

| ID | Requirement | Priority | Status |
|----|-------------|----------|--------|
| REQ-SEC-001 | Ù…ØµØ§Ø¯Ù‚Ø© JWT Ù…Ø¹ Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ© | P0 | âœ… |
| REQ-SEC-002 | 2FA (TOTP) Ù…Ø¹ Google Authenticator | P0 | âœ… |
| REQ-SEC-003 | RBAC (68 ØµÙ„Ø§Ø­ÙŠØ©ØŒ 7 Ø£Ø¯ÙˆØ§Ø±) | P0 | âœ… |
| REQ-SEC-004 | Ø³Ø¬Ù„Ø§Øª Ø£Ù…Ù†ÙŠØ© Ø´Ø§Ù…Ù„Ø© | P0 | âœ… |
| REQ-SEC-005 | HTTPS/SSL support | P0 | âœ… |
| REQ-SEC-006 | Security Headers ÙƒØ§Ù…Ù„Ø© | P0 | âœ… |
| REQ-SEC-007 | Rate Limiting Ù„Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† DDoS | P0 | âœ… |
| REQ-SEC-008 | CORS configuration | P0 | âœ… |

---

## 4. ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¸Ù„ | The Shadow Report (Anti-Patterns)

### 4.1 Ù…Ø§ ÙŠØ¬Ø¨ ØªØ¬Ù†Ø¨Ù‡ | What NOT to Do

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    âš ï¸ ANTI-PATTERNS - ØªØ¬Ù†Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                          â•‘
â•‘ âŒ 1. ØªØ¬Ø§ÙˆØ² FIFO Ø¨Ø¯ÙˆÙ† ØµÙ„Ø§Ø­ÙŠØ©                                             â•‘
â•‘    â†’ ÙŠØ¬Ø¨ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© LOT_FIFO_OVERRIDE Ù‚Ø¨Ù„ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªØ¬Ø§ÙˆØ²          â•‘
â•‘                                                                          â•‘
â•‘ âŒ 2. Ø­ÙØ¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ÙƒÙ†Øµ Ø¹Ø§Ø¯ÙŠ                                          â•‘
â•‘    â†’ Ø§Ø³ØªØ®Ø¯Ù… bcrypt Ù…Ø¹ salt ÙÙ‚Ø·                                           â•‘
â•‘                                                                          â•‘
â•‘ âŒ 3. ØªØ¬Ø§Ù‡Ù„ ØªØ­Ù‚Ù‚ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù€ Frontend ÙÙ‚Ø·                          â•‘
â•‘    â†’ ÙŠØ¬Ø¨ Ø§Ù„ØªØ­Ù‚Ù‚ Ø¹Ù„Ù‰ Backend Ø£ÙŠØ¶Ø§Ù‹ (@require_permission decorator)        â•‘
â•‘                                                                          â•‘
â•‘ âŒ 4. Ø§Ø³ØªØ®Ø¯Ø§Ù… SQL Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† ORM                                         â•‘
â•‘    â†’ Ø§Ø³ØªØ®Ø¯Ù… SQLAlchemy ORM ÙÙ‚Ø· Ù„ØªØ¬Ù†Ø¨ SQL Injection                       â•‘
â•‘                                                                          â•‘
â•‘ âŒ 5. ØªØ®Ø²ÙŠÙ† JWT ÙÙŠ localStorage                                          â•‘
â•‘    â†’ Ø§Ø³ØªØ®Ø¯Ù… httpOnly cookies Ù„Ù„Ø£Ù…Ø§Ù†                                      â•‘
â•‘                                                                          â•‘
â•‘ âŒ 6. Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙƒÙˆÙ†Ø§Øª React Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø¯ÙˆÙ† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…ÙƒÙˆÙ† Ù…Ø´Ø§Ø¨Ù‡            â•‘
â•‘    â†’ ØªØ­Ù‚Ù‚ Ù…Ù† frontend/src/components/ Ø£ÙˆÙ„Ø§Ù‹                              â•‘
â•‘                                                                          â•‘
â•‘ âŒ 7. ØªØ¬Ø§Ù‡Ù„ RTL Ø¹Ù†Ø¯ ØªØµÙ…ÙŠÙ… Ù…ÙƒÙˆÙ†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©                                   â•‘
â•‘    â†’ Ø§Ø³ØªØ®Ø¯Ù… TailwindCSS RTL utilities (rtl: Ùˆ ltr:)                      â•‘
â•‘                                                                          â•‘
â•‘ âŒ 8. Ø¹Ø¯Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©                                         â•‘
â•‘    â†’ Ø§Ø³ØªØ®Ø¯Ù… log_security() Ù„Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª             â•‘
â•‘                                                                          â•‘
â•‘ âŒ 9. Ø¥Ø¶Ø§ÙØ© Ù…ÙƒØªØ¨Ø§Øª Ø¨Ø¯ÙˆÙ† ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø£Ù…Ø§Ù†                              â•‘
â•‘    â†’ Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù€ bundle size ÙˆØ§Ù„Ù€ vulnerabilities Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©               â•‘
â•‘                                                                          â•‘
â•‘ âŒ 10. ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù„ÙˆØª Ø§Ù„Ù…Ø¨Ø§Ø¹ Ø£Ùˆ Ø§Ù„Ù…Ø±ØªØ¬Ø¹ Ù…Ø¨Ø§Ø´Ø±Ø©                              â•‘
â•‘     â†’ Ø§Ø³ØªØ®Ø¯Ù… state machine transitions ÙÙ‚Ø·                               â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 4.2 Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯ | Common Junior Developer Mistakes

| # | Ø§Ù„Ø®Ø·Ø£ | Ø§Ù„Ø­Ù„ Ø§Ù„ØµØ­ÙŠØ­ |
|---|-------|-------------|
| 1 | Ø§Ø³ØªØ®Ø¯Ø§Ù… `var` ÙÙŠ JavaScript | Ø§Ø³ØªØ®Ø¯Ù… `const` Ùˆ `let` ÙÙ‚Ø· |
| 2 | Ø¹Ø¯Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† null/undefined | Ø§Ø³ØªØ®Ø¯Ù… optional chaining `?.` |
| 3 | ØªØ¬Ø§Ù‡Ù„ error handling | ÙƒÙ„ `try` ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ù‡ `catch` |
| 4 | Ø§Ø³ØªØ®Ø¯Ø§Ù… `any` ÙÙŠ TypeScript | Ø­Ø¯Ø¯ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø¨Ø¯Ù‚Ø© |
| 5 | Ø¹Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… pagination | Ø­Ø¯ Ø£Ù‚ØµÙ‰ 100 Ø¹Ù†ØµØ± Ù„ÙƒÙ„ ØµÙØ­Ø© |

---

## 5. Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù‚Ø¨ÙˆÙ„ | Acceptance Criteria (The "Done")

### 5.1 Performance Criteria

| Criteria | Target | Current | Status |
|----------|--------|---------|--------|
| API Response Time | <200ms | <100ms | âœ… Pass |
| Page Load Time | <3s | <3s | âœ… Pass |
| Database Query | <100ms | <50ms | âœ… Pass |
| Concurrent Users | 100+ | 100+ | âœ… Pass |
| Bundle Size (Frontend) | <2MB | <2MB | âœ… Pass |

### 5.2 Security Criteria

| Criteria | Target | Current | Status |
|----------|--------|---------|--------|
| Critical Vulnerabilities | 0 | 0 | âœ… Pass |
| OWASP Top 10 Protected | 100% | 100% | âœ… Pass |
| Security Audit | Pass | Pass | âœ… Pass |
| Penetration Test | Pass | Pending | â³ |

### 5.3 Quality Criteria

| Criteria | Target | Current | Status |
|----------|--------|---------|--------|
| Test Coverage | >80% | 95%+ | âœ… Pass |
| All Tests Passing | 100% | 100% | âœ… Pass |
| Critical Bugs | 0 | 0 | âœ… Pass |
| Documentation Complete | 100% | 100% | âœ… Pass |
| Code Review | 100% | 100% | âœ… Pass |

### 5.4 UX Criteria

| Criteria | Target | Current | Status |
|----------|--------|---------|--------|
| Arabic RTL Support | 100% | 100% | âœ… Pass |
| Responsive Design | All | All | âœ… Pass |
| Dark Mode | Working | Working | âœ… Pass |
| WCAG AA Compliance | 100% | 90% | â³ |

---

## 6. Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© | Technology Stack

### 6.1 Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PRODUCTION STACK                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Cloudflare     â”‚â”€â”€â”€â–¶â”‚     Nginx        â”‚â”€â”€â”€â–¶â”‚  Flask Backend   â”‚  â”‚
â”‚  â”‚   CDN + DDoS     â”‚    â”‚  Reverse Proxy   â”‚    â”‚    Port 6001     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                       â”‚                       â”‚             â”‚
â”‚           â”‚                       â”‚                       â”‚             â”‚
â”‚           â–¼                       â–¼                       â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   SSL/TLS        â”‚    â”‚  React Frontend  â”‚    â”‚  SQLAlchemy ORM  â”‚  â”‚
â”‚  â”‚   Encryption     â”‚    â”‚    Port 6501     â”‚    â”‚                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                       â”‚             â”‚
â”‚                                   â”‚                       â–¼             â”‚
â”‚                                   â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                   â”‚              â”‚  SQLite/PostgreSQLâ”‚  â”‚
â”‚                                   â”‚              â”‚    Database       â”‚  â”‚
â”‚                                   â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 Stack Details

| Layer | Technology | Version | Purpose |
|-------|------------|---------|---------|
| **Backend** | Python | 3.11+ | Core Language |
| | Flask | 3.0.3 | Web Framework |
| | SQLAlchemy | 2.0.23 | ORM |
| | Flask-JWT-Extended | 4.6.0 | Authentication |
| | pyotp | 2.9.0 | 2FA (TOTP) |
| | pytest | 8.0.0 | Testing |
| **Frontend** | React | 18.3.1 | UI Library |
| | Vite | 6.0.7 | Build Tool |
| | TailwindCSS | 4.1.7 | Styling |
| | Axios | 1.7.9 | HTTP Client |
| | React Router | 7.1.3 | Routing |
| **Database** | SQLite | 3.x | Development DB |
| | PostgreSQL | 15+ | Production DB |
| **DevOps** | Nginx | Latest | Reverse Proxy |
| | Cloudflare | - | CDN + DDoS |
| | Docker | Latest | Containerization |

### 6.3 Port Configuration

| Service | Port | Docker Service |
|---------|------|----------------|
| Backend API | 6001 | store-backend |
| Frontend | 6501 | store-frontend |
| ML Service | 6101 | store-ml |
| AI Service | 6601 | store-ai |
| Database | 6100 | store-db |

---

## 7. Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© | Related Files (Context Injection)

### From `.memory/file_registry.json`:

| Category | File | Purpose |
|----------|------|---------|
| **Core** | `backend/app.py` | Main Flask entry point |
| | `frontend/src/App.jsx` | Main React component |
| **Config** | `config/ports.json` | Port configuration |
| | `docker-compose.yml` | Docker services |
| **Specs** | `specs/01_lot_system.spec.md` | Lot system spec |
| | `specs/02_pos_system.spec.md` | POS system spec |
| | `specs/03_rbac_system.spec.md` | RBAC system spec |
| **Docs** | `docs/CONSTITUTION.md` | Project constitution |
| | `docs/API_REFERENCE.md` | API documentation |
| | `docs/TESTING_GUIDE.md` | Testing guide |

---

## 8. Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª | Approvals

| Role | Name | Status | Date |
|------|------|--------|------|
| The Architect | AI Agent | âœ… Approved | 2026-01-17 |
| The Shadow | AI Agent | âœ… Approved | 2026-01-17 |
| The QA Engineer | AI Agent | âœ… Approved | 2026-01-17 |
| Product Owner | User | ğŸ”„ Pending | - |

---

## 9. Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ | Signature

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                          â•‘
â•‘   ğŸ“‹ Master Specification: Store ERP v2.0.0 - Phoenix Rising             â•‘
â•‘   ğŸ“… Date: 2026-01-17                                                    â•‘
â•‘   ğŸ”§ Generated by: Speckit v35.0 (Hybrid Protocol)                       â•‘
â•‘   â­ Score: 95/100                                                        â•‘
â•‘                                                                          â•‘
â•‘   âœ… Visual Model: Complete (4 Mermaid Diagrams)                         â•‘
â•‘   âœ… User Stories: Complete (7 Stories)                                  â•‘
â•‘   âœ… Requirements: Complete (80+ Requirements)                           â•‘
â•‘   âœ… Shadow Report: Complete (10 Anti-Patterns)                          â•‘
â•‘   âœ… Acceptance Criteria: Complete (20 Criteria)                         â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

*Generated by Speckit v35.0 (Hybrid Protocol)*
*Store ERP v2.0.0 - Phoenix Rising*
*Ù†Ø¸Ø§Ù… ERP Ø´Ø§Ù…Ù„ Ù„Ù„Ù…Ø­Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©*
