# =============================================================================
# Gaara Scan AI - Production Environment Variables
# =============================================================================
# 
# IMPORTANT: Copy this file to .env.production and fill in real values
# NEVER commit .env.production to version control
#
# Last Updated: 2026-01-19
# =============================================================================

# =============================================================================
# Application Settings
# =============================================================================
ENVIRONMENT=production
DEBUG=false
APP_VERSION=4.3.1
TZ=UTC
LOG_LEVEL=info

# =============================================================================
# Security Settings (CRITICAL - Use strong random values)
# =============================================================================
# Generate with: openssl rand -hex 64
SECRET_KEY=REPLACE_WITH_STRONG_RANDOM_STRING_AT_LEAST_64_CHARACTERS

# Generate with: openssl rand -hex 32
JWT_SECRET=REPLACE_WITH_STRONG_RANDOM_STRING_AT_LEAST_32_CHARACTERS
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Security Features
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30
RATE_LIMIT_PER_MINUTE=100

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
POSTGRES_HOST=scan_ai-Manus-database
POSTGRES_PORT=8502
POSTGRES_DB=gaara_scan_ai
POSTGRES_USER=gaara_user
# Generate with: openssl rand -hex 24
POSTGRES_PASSWORD=REPLACE_WITH_STRONG_DATABASE_PASSWORD

# Full database URL (constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=scan_ai-Manus-redis
REDIS_PORT=6379
REDIS_DB=0
# Generate with: openssl rand -hex 24
REDIS_PASSWORD=REPLACE_WITH_STRONG_REDIS_PASSWORD

# Redis URL
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# =============================================================================
# Backend API Settings
# =============================================================================
BACKEND_HOST=scan_ai-Manus-backend
BACKEND_PORT=4001
WORKERS=4

# CORS Settings
ALLOWED_ORIGINS=https://gaara-scan-ai.com,https://www.gaara-scan-ai.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
ALLOWED_HEADERS=*
ALLOW_CREDENTIALS=true

# =============================================================================
# Frontend Settings
# =============================================================================
FRONTEND_HOST=scan_ai-Manus-frontend
FRONTEND_PORT=4501
VITE_API_URL=https://api.gaara-scan-ai.com/api/v1
VITE_UPLOAD_URL=https://api.gaara-scan-ai.com/uploads

# =============================================================================
# ML Service Settings
# =============================================================================
ML_HOST=scan_ai-Manus-ml
ML_PORT=4101
ML_WORKERS=2
MODEL_PATH=/app/models
YOLO_MODEL_PATH=/app/models/yolov8n.pt
CONFIDENCE_THRESHOLD=0.5

# =============================================================================
# AI Service (Image Crawler) Settings
# =============================================================================
AI_HOST=scan_ai-Manus-ai
AI_PORT=4601
CRAWLER_WORKERS=2

# OpenAI API (for Vision API)
OPENAI_API_KEY=sk-REPLACE_WITH_YOUR_OPENAI_API_KEY

# =============================================================================
# File Upload Settings
# =============================================================================
UPLOAD_DIR=/app/data/uploads
RESULTS_DIR=/app/data/results
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,image/webp

# =============================================================================
# Email Settings (for notifications)
# =============================================================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@gaara-scan-ai.com
SMTP_PASSWORD=REPLACE_WITH_SMTP_PASSWORD
SMTP_FROM_EMAIL=noreply@gaara-scan-ai.com
SMTP_FROM_NAME=Gaara Scan AI
SMTP_TLS=true

# =============================================================================
# Monitoring & Observability
# =============================================================================
# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ADMIN_PASSWORD=REPLACE_WITH_GRAFANA_PASSWORD

# =============================================================================
# External Services
# =============================================================================
# Cloudflare (if using)
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_ZONE_ID=

# S3/MinIO Storage (optional)
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET_NAME=gaara-scan-uploads
S3_REGION=us-east-1

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *
BACKUP_S3_BUCKET=gaara-scan-backups

# =============================================================================
# Docker/Container Settings
# =============================================================================
COMPOSE_PROJECT_NAME=gaara-scan-ai
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# Build information (set during CI/CD)
BUILD_DATE=
VCS_REF=

# =============================================================================
# Database Migration
# =============================================================================
RUN_MIGRATIONS=true
ALEMBIC_CONFIG=/app/alembic.ini
