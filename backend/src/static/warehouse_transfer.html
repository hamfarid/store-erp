<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</title><style> * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; direction: rtl; } .header { background: rgba(255, 255, 255, 0.95); padding: 20px; border-radius: 15px; margin-bottom: 20px; text-align: center; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); } .header h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2.5em; } .header p { color: #7f8c8d; font-size: 1.1em; } .nav-bar { background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 10px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; } .nav-bar a { color: #2c3e50; text-decoration: none; padding: 10px 20px; border-radius: 8px; background: #3498db; color: white; transition: all 0.3s ease; } .nav-bar a:hover { background: #2980b9; transform: translateY(-2px); } .stats-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; } .stat-card { background: rgba(255, 255, 255, 0.95); padding: 25px; border-radius: 15px; text-align: center; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease; } .stat-card:hover { transform: translateY(-5px); } .stat-icon { font-size: 3em; margin-bottom: 15px; } .stat-number { font-size: 2.5em; font-weight: bold; margin-bottom: 10px; } .stat-label { color: #7f8c8d; font-size: 1.1em; } .main-container { background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 30px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); } .tabs { display: flex; margin-bottom: 30px; border-bottom: 2px solid #ecf0f1; } .tab { padding: 15px 25px; background: none; border: none; cursor: pointer; font-size: 1.1em; color: #7f8c8d; border-bottom: 3px solid transparent; transition: all 0.3s ease; } .tab.active { color: #3498db; border-bottom-color: #3498db; background: rgba(52, 152, 219, 0.1); } .tab-content { display: none; } .tab-content.active { display: block; } .form-section { background: #f8f9fa; padding: 25px; border-radius: 10px; margin-bottom: 25px; } .form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px; } .form-group { display: flex; flex-direction: column; } .form-group label { margin-bottom: 8px; font-weight: bold; color: #2c3e50; } .form-group input, .form-group select, .form-group textarea { padding: 12px; border: 2px solid #ecf0f1; border-radius: 8px; font-size: 1em; transition: border-color 0.3s ease; } .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #3498db; } .btn { padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; font-size: 1em; transition: all 0.3s ease; margin: 5px; } .btn-primary { background: #3498db; color: white; } .btn-primary:hover { background: #2980b9; transform: translateY(-2px); } .btn-success { background: #27ae60; color: white; } .btn-success:hover { background: #229954; } .btn-warning { background: #f39c12; color: white; } .btn-warning:hover { background: #e67e22; } .btn-danger { background: #e74c3c; color: white; } .btn-danger:hover { background: #c0392b; } .table-container { overflow-x: auto; margin-top: 20px; } table { width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); } th, td { padding: 15px; text-align: center; border-bottom: 1px solid #ecf0f1; } th { background: #3498db; color: white; font-weight: bold; } tr:hover { background: #f8f9fa; } .status-badge { padding: 5px 15px; border-radius: 20px; font-size: 0.9em; font-weight: bold; } .status-pending { background: #fff3cd; color: #856404; } .status-approved { background: #d4edda; color: #155724; } .status-completed { background: #d1ecf1; color: #0c5460; } .status-cancelled { background: #f8d7da; color: #721c24; } .items-table { margin-top: 20px; } .add-item-btn { background: #27ae60; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-bottom: 15px; } .remove-item-btn { background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; } .empty-state { text-align: center; padding: 50px; color: #7f8c8d; } .empty-state-icon { font-size: 4em; margin-bottom: 20px; } @media (max-width: 768px) { .stats-container { grid-template-columns: 1fr; } .form-row { grid-template-columns: 1fr; } .tabs { flex-direction: column; } } </style></head><body><div class="header"><h1>ğŸ”„ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h1><p>Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¨ÙŠÙ† Ø§Ù„Ù…Ø®Ø§Ø²Ù† Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</p></div><div class="nav-bar"><div><span>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</span></div><a href="/index.html">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></div><div class="stats-container"><div class="stat-card"><div class="stat-icon">ğŸ“‹</div><div class="stat-number" id="totalTransfers">0</div><div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª</div></div><div class="stat-card"><div class="stat-icon">â³</div><div class="stat-number" id="pendingTransfers">0</div><div class="stat-label">ØªØ­ÙˆÙŠÙ„Ø§Øª Ù…Ø¹Ù„Ù‚Ø©</div></div><div class="stat-card"><div class="stat-icon">âœ…</div><div class="stat-number" id="completedTransfers">0</div><div class="stat-label">ØªØ­ÙˆÙŠÙ„Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</div></div><div class="stat-card"><div class="stat-icon">ğŸ“…</div><div class="stat-number" id="todayTransfers">0</div><div class="stat-label">ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div></div></div><div class="main-container"><div class="tabs"><button type="button" class="tab active" onclick="showTab('transfers')">ğŸ“‹ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª</button><button type="button" class="tab" onclick="showTab('new-transfer')">â• ØªØ­ÙˆÙŠÙ„ Ø¬Ø¯ÙŠØ¯</button><button type="button" class="tab" onclick="showTab('pending-approvals')">â³ Ù…ÙˆØ§ÙÙ‚Ø§Øª Ù…Ø¹Ù„Ù‚Ø©</button><button type="button" class="tab" onclick="showTab('reports')">ğŸ“Š ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª</button></div><!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª --><div id="transfers" class="tab-content active"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;"><h2>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª</h2><div><input type="text" placeholder="Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª..." style="padding: 10px; border: 1px solid #ddd; border-radius: 5px; margin-left: 10px;"><button type="button" class="btn btn-primary" onclick="refreshTransfers()">ğŸ”„ ØªØ­Ø¯ÙŠØ«</button></div></div><div class="table-container"><table id="transfersTable"><thead><tr><th>Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„</th><th>Ù…Ù† Ù…Ø®Ø²Ù†</th><th>Ø¥Ù„Ù‰ Ù…Ø®Ø²Ù†</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø·Ù„Ø¨ Ø¨ÙˆØ§Ø³Ø·Ø©</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead><tbody><tr><td colspan="8" class="empty-state"><div class="empty-state-icon">ğŸ“„</div><h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­ÙˆÙŠÙ„Ø§Øª</h3><p>Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø¬Ø¯ÙŠØ¯</p></td></tr></tbody></table></div></div><!-- ØªØ¨ÙˆÙŠØ¨ ØªØ­ÙˆÙŠÙ„ Ø¬Ø¯ÙŠØ¯ --><div id="new-transfer" class="tab-content"><h2>â• Ø¥Ù†Ø´Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø¬Ø¯ÙŠØ¯</h2><form id="newTransferForm"><div class="form-section"><h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„</h3><div class="form-row"><div class="form-group"><label>Ù…Ù† Ù…Ø®Ø²Ù†</label><select id="fromWarehouse" required><option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ù…ØµØ¯Ø±</option><option value="1">Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option><option value="2">Ù…Ø®Ø²Ù† Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option><option value="3">Ù…Ø®Ø²Ù† Ø£Ø³ÙˆØ§Ù†</option></select></div><div class="form-group"><label>Ø¥Ù„Ù‰ Ù…Ø®Ø²Ù†</label><select id="toWarehouse" required><option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ù‡Ø¯Ù</option><option value="1">Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option><option value="2">Ù…Ø®Ø²Ù† Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option><option value="3">Ù…Ø®Ø²Ù† Ø£Ø³ÙˆØ§Ù†</option></select></div></div><div class="form-row"><div class="form-group"><label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label><textarea id="transferNotes" rows="3" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø­ÙˆÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„..."></textarea></div></div></div><div class="form-section"><h3>Ø£ØµÙ†Ø§Ù Ø§Ù„ØªØ­ÙˆÙŠÙ„</h3><button type="button" class="add-item-btn" onclick="addTransferItem()">â• Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù</button><div class="table-container items-table"><table id="transferItemsTable"><thead><tr><th>Ø§Ù„ØµÙ†Ù</th><th>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</th><th>Ø§Ù„ÙˆØ­Ø¯Ø©</th><th>Ø§Ù„Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù†</th><th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th><th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead><tbody id="transferItemsBody"><tr><td colspan="6" class="empty-state"><div class="empty-state-icon">ğŸ“¦</div><p>Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù Ø¨Ø¹Ø¯</p></td></tr></tbody></table></div></div><div style="text-align: center; margin-top: 30px;"><button type="submit" class="btn btn-success">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ­ÙˆÙŠÙ„</button><button type="button" class="btn btn-warning" onclick="clearForm()">ğŸ”„ Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</button></div></form></div><!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© --><div id="pending-approvals" class="tab-content"><h2>â³ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</h2><div class="table-container"><table id="pendingApprovalsTable"><thead><tr><th>Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„</th><th>Ù…Ù† Ù…Ø®Ø²Ù†</th><th>Ø¥Ù„Ù‰ Ù…Ø®Ø²Ù†</th><th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨</th><th>Ø·Ù„Ø¨ Ø¨ÙˆØ§Ø³Ø·Ø©</th><th>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead><tbody><tr><td colspan="7" class="empty-state"><div class="empty-state-icon">âœ…</div><h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§ÙÙ‚Ø§Øª Ù…Ø¹Ù„Ù‚Ø©</h3><p>Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„ÙŠÙ‡Ø§</p></td></tr></tbody></table></div></div><!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± --><div id="reports" class="tab-content"><h2>ğŸ“Š ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª</h2><div class="form-section"><h3>ÙÙ„Ø§ØªØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±</h3><div class="form-row"><div class="form-group"><label>Ù…Ù† ØªØ§Ø±ÙŠØ®</label><input type="date" id="reportFromDate"></div><div class="form-group"><label>Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®</label><input type="date" id="reportToDate"></div><div class="form-group"><label>Ø§Ù„Ù…Ø®Ø²Ù†</label><select id="reportWarehouse"><option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø§Ø²Ù†</option><option value="1">Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</option><option value="2">Ù…Ø®Ø²Ù† Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option><option value="3">Ù…Ø®Ø²Ù† Ø£Ø³ÙˆØ§Ù†</option></select></div><div class="form-group"><label>Ø§Ù„Ø­Ø§Ù„Ø©</label><select id="reportStatus"><option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option><option value="pending">Ù…Ø¹Ù„Ù‚</option><option value="approved">Ù…Ø¤ÙƒØ¯</option><option value="completed">Ù…ÙƒØªÙ…Ù„</option><option value="cancelled">Ù…Ù„ØºÙŠ</option></select></div></div><div style="text-align: center;"><button type="button" class="btn btn-primary" onclick="generateReport()">ğŸ“Š Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button><button type="button" class="btn btn-success" onclick="exportReport()">ğŸ“„ ØªØµØ¯ÙŠØ± Excel</button></div></div></div></div><script> // Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø© let transfers = []; let transferItems = []; // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© document.addEventListener('DOMContentLoaded', function() { loadTransferStats(); loadTransfers(); loadWarehouses(); }); // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª function showTab(tabName) { // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª const tabs = document.querySelectorAll('.tab-content'); tabs.forEach(tab => tab.classList.remove('active')); const tabButtons = document.querySelectorAll('.tab'); tabButtons.forEach(btn => btn.classList.remove('active')); // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø­Ø¯Ø¯ document.getElementById(tabName).classList.add('active'); event.target.classList.add('active'); } // ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª async function loadTransferStats() { try { const response = await fetch('/api/warehouse-transfers/stats'); const data = await response.json(); if (data.success) { document.getElementById('totalTransfers').textContent = data.stats.total_transfers; document.getElementById('pendingTransfers').textContent = data.stats.pending_transfers; document.getElementById('completedTransfers').textContent = data.stats.completed_transfers; document.getElementById('todayTransfers').textContent = data.stats.today_transfers; } } catch (error) { console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error); } } // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª async function loadTransfers() { try { const response = await fetch('/api/warehouse-transfers'); const data = await response.json(); if (data.success) { transfers = data.transfers; displayTransfers(); } } catch (error) { console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª:', error); } } // Ø¹Ø±Ø¶ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ function displayTransfers() { const tbody = document.querySelector('#transfersTable tbody'); if (transfers.length === 0) { tbody.innerHTML = ` <tr><td colspan="8" class="empty-state"><div class="empty-state-icon">ğŸ“„</div><h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­ÙˆÙŠÙ„Ø§Øª</h3><p>Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø¬Ø¯ÙŠØ¯</p></td></tr> `; return; } tbody.innerHTML = transfers.map(transfer => ` <tr><td>${transfer.transfer_number}</td><td>${transfer.from_warehouse_name}</td><td>${transfer.to_warehouse_name}</td><td>${new Date(transfer.transfer_date).toLocaleDateString('ar-EG')}</td><td>${transfer.total_items}</td><td><span class="status-badge status-${transfer.status}">${transfer.status_text}</span></td><td>${transfer.requester_name}</td><td><button type="button" class="btn btn-primary" onclick="viewTransfer(${transfer.id})">ğŸ‘ï¸ Ø¹Ø±Ø¶</button> ${transfer.status === 'pending' ? `<button type="button" class="btn btn-success" onclick="approveTransfer(${transfer.id})">âœ… Ù…ÙˆØ§ÙÙ‚Ø©</button>` : ''} ${transfer.status === 'approved' ? `<button type="button" class="btn btn-warning" onclick="completeTransfer(${transfer.id})">âœ… Ø¥ÙƒÙ…Ø§Ù„</button>` : ''} </td></tr> `).join(''); } // Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ù„Ù„ØªØ­ÙˆÙŠÙ„ function addTransferItem() { const tbody = document.getElementById('transferItemsBody'); // Ø¥Ø²Ø§Ù„Ø© Ø±Ø³Ø§Ù„Ø© "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù" Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø© if (tbody.children.length === 1 && tbody.children[0].children.length === 1) { tbody.innerHTML = ''; } const row = document.createElement('tr'); row.innerHTML = ` <td><select class="item-product" required><option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ†Ù</option><option value="1">Ø¨Ø°ÙˆØ± Ø·Ù…Ø§Ø·Ù…</option><option value="2">Ø´ØªÙ„Ø§Øª Ø®ÙŠØ§Ø±</option><option value="3">Ø³Ù…Ø§Ø¯ NPK</option></select></td><td><input type="number" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù…" class="item-quantity" min="1" step="0.01" required aria-label="Ø­Ù‚Ù„ Ø±Ù‚Ù…"></td><td><select class="item-unit"><option value="ÙƒÙŠÙ„Ùˆ">ÙƒÙŠÙ„Ùˆ</option><option value="Ø¬Ø±Ø§Ù…">Ø¬Ø±Ø§Ù…</option><option value="Ù„ØªØ±">Ù„ØªØ±</option><option value="Ù‚Ø·Ø¹Ø©">Ù‚Ø·Ø¹Ø©</option></select></td><td class="available-quantity">-</td><td><input type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ" class="item-notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª..." aria-label="Ø­Ù‚Ù„ Ù†Øµ"></td><td><button type="button" class="remove-item-btn" onclick="removeTransferItem(this)">ğŸ—‘ï¸ Ø­Ø°Ù</button></td> `; tbody.appendChild(row); } // Ø­Ø°Ù ØµÙ†Ù Ù…Ù† Ø§Ù„ØªØ­ÙˆÙŠÙ„ function removeTransferItem(button) { const row = button.closest('tr'); const tbody = row.parentNode; row.remove(); // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù" Ø¥Ø°Ø§ Ù„Ù… ØªØ¹Ø¯ Ù‡Ù†Ø§Ùƒ Ø£ØµÙ†Ø§Ù if (tbody.children.length === 0) { tbody.innerHTML = ` <tr><td colspan="6" class="empty-state"><div class="empty-state-icon">ğŸ“¦</div><p>Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù Ø¨Ø¹Ø¯</p></td></tr> `; } } // Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ function clearForm() { document.getElementById('newTransferForm').reset(); document.getElementById('transferItemsBody').innerHTML = ` <tr><td colspan="6" class="empty-state"><div class="empty-state-icon">ğŸ“¦</div><p>Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù Ø¨Ø¹Ø¯</p></td></tr> `; } // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª function refreshTransfers() { loadTransfers(); loadTransferStats(); } // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ function viewTransfer(transferId) { alert(`Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø±Ù‚Ù…: ${transferId}`); } // Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­ÙˆÙŠÙ„ function approveTransfer(transferId) { if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„ØªØ­ÙˆÙŠÙ„ØŸ')) { alert(`ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø±Ù‚Ù…: ${transferId}`); refreshTransfers(); } } // Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ function completeTransfer(transferId) { if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ÙƒÙ…Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„ØªØ­ÙˆÙŠÙ„ØŸ Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.')) { alert(`ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø±Ù‚Ù…: ${transferId}`); refreshTransfers(); } } // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± function generateReport() { alert('Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±...'); } // ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± function exportReport() { alert('Ø³ÙŠØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¥Ù„Ù‰ Excel...'); } // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø²Ù† async function loadWarehouses() { // Ù‡Ø°Ù‡ Ø¯Ø§Ù„Ø© ÙˆÙ‡Ù…ÙŠØ© - ÙŠØ¬Ø¨ Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ù€ API Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ console.log('ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø²Ù†...'); } // Ù…Ø¹Ø§Ù„Ø¬ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ document.getElementById('newTransferForm').addEventListener('submit', function(e) { e.preventDefault(); const fromWarehouse = document.getElementById('fromWarehouse').value; const toWarehouse = document.getElementById('toWarehouse').value; if (fromWarehouse === toWarehouse) { alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù…Ø®Ø²Ù†'); return; } // Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ØµÙ†Ø§Ù const items = []; const rows = document.querySelectorAll('#transferItemsBody tr'); rows.forEach(row => { const product = row.querySelector('.item-product')?.value; const quantity = row.querySelector('.item-quantity')?.value; if (product && quantity) { items.push({ product_id: product, quantity: parseFloat(quantity), unit: row.querySelector('.item-unit').value, notes: row.querySelector('.item-notes').value }); } }); if (items.length === 0) { alert('ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„'); return; } // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª const transferData = { from_warehouse_id: fromWarehouse, to_warehouse_id: toWarehouse, notes: document.getElementById('transferNotes').value, items: items }; console.log('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„:', transferData); alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!'); clearForm(); showTab('transfers'); refreshTransfers(); }); </script></body></html> 