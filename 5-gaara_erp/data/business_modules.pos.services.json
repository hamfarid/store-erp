{
  "module": "business_modules.pos.services",
  "imports": [
    "business_modules.contacts.models",
    "business_modules.inventory.services",
    "business_modules.pos.models",
    "decimal",
    "django.core.exceptions",
    "django.db",
    "django.db.models",
    "django.utils",
    "django.utils.translation"
  ],
  "classes": [
    {
      "name": "POSSessionService",
      "methods": [
        "create_session",
        "close_session",
        "suspend_session",
        "resume_session",
        "get_session_summary"
      ],
      "variables": []
    },
    {
      "name": "POSReceiptService",
      "methods": [
        "create_receipt",
        "add_item_to_receipt",
        "update_item_quantity",
        "remove_item_from_receipt",
        "add_payment_to_receipt",
        "confirm_receipt",
        "cancel_receipt",
        "process_return"
      ],
      "variables": []
    },
    {
      "name": "POSReportService",
      "methods": [
        "get_sales_report",
        "get_returns_report",
        "get_customer_sales_report"
      ],
      "variables": []
    }
  ],
  "functions": [
    {
      "name": "create_session",
      "parameters": [
        "branch_id",
        "user_id",
        "warehouse_id",
        "opening_balance"
      ]
    },
    {
      "name": "close_session",
      "parameters": [
        "session_id",
        "closing_balance_actual",
        "notes"
      ]
    },
    {
      "name": "suspend_session",
      "parameters": [
        "session_id",
        "notes"
      ]
    },
    {
      "name": "resume_session",
      "parameters": [
        "session_id"
      ]
    },
    {
      "name": "get_session_summary",
      "parameters": [
        "session_id"
      ]
    },
    {
      "name": "create_receipt",
      "parameters": [
        "session_id",
        "customer_id",
        "items",
        "payments"
      ]
    },
    {
      "name": "add_item_to_receipt",
      "parameters": [
        "receipt_id",
        "product_id",
        "quantity",
        "unit_price",
        "discount_percentage",
        "tax_rate"
      ]
    },
    {
      "name": "update_item_quantity",
      "parameters": [
        "item_id",
        "new_quantity"
      ]
    },
    {
      "name": "remove_item_from_receipt",
      "parameters": [
        "item_id"
      ]
    },
    {
      "name": "add_payment_to_receipt",
      "parameters": [
        "receipt_id",
        "payment_method_id",
        "amount",
        "reference_number"
      ]
    },
    {
      "name": "confirm_receipt",
      "parameters": [
        "receipt_id"
      ]
    },
    {
      "name": "cancel_receipt",
      "parameters": [
        "receipt_id",
        "reason"
      ]
    },
    {
      "name": "process_return",
      "parameters": [
        "receipt_id",
        "items_to_return",
        "notes"
      ]
    },
    {
      "name": "get_sales_report",
      "parameters": [
        "start_date",
        "end_date",
        "branch_id",
        "user_id"
      ]
    },
    {
      "name": "get_returns_report",
      "parameters": [
        "start_date",
        "end_date",
        "branch_id",
        "user_id"
      ]
    },
    {
      "name": "get_customer_sales_report",
      "parameters": [
        "customer_id",
        "start_date",
        "end_date"
      ]
    }
  ],
  "variables": []
}