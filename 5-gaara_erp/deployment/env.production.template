# =============================================================================
# Gaara ERP - Production Environment Template
# قالب بيئة الإنتاج
#
# Author: Global v35.0 Singularity
# Created: 2026-01-17
#
# IMPORTANT: Copy this file to .env.production and fill in the values
# DO NOT commit actual secrets to version control!
# =============================================================================

# ===========================================================================
# Application Settings
# ===========================================================================
FLASK_ENV=production
FLASK_DEBUG=0
APP_NAME=Gaara ERP
APP_VERSION=1.0.0
APP_URL=https://gaara-erp.com
API_URL=https://api.gaara-erp.com

# ===========================================================================
# Security Settings (CRITICAL - Generate strong random values)
# ===========================================================================
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=__REPLACE_WITH_64_CHAR_HEX_STRING__
JWT_SECRET_KEY=__REPLACE_WITH_64_CHAR_HEX_STRING__

# CSRF Protection
WTF_CSRF_ENABLED=true
WTF_CSRF_TIME_LIMIT=3600

# Session
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
PERMANENT_SESSION_LIFETIME=86400

# ===========================================================================
# Database Configuration
# ===========================================================================
# Primary PostgreSQL Database
DATABASE_URL=postgresql://gaara_user:__DB_PASSWORD__@db.gaara-erp.com:5432/gaara_production
DB_HOST=db.gaara-erp.com
DB_PORT=5432
DB_NAME=gaara_production
DB_USER=gaara_user
DB_PASSWORD=__REPLACE_WITH_DB_PASSWORD__
DB_SSL_MODE=require

# Connection Pool Settings
DB_POOL_SIZE=20
DB_POOL_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# ===========================================================================
# Redis Configuration
# ===========================================================================
REDIS_URL=redis://:__REDIS_PASSWORD__@redis.gaara-erp.com:6379/0
REDIS_HOST=redis.gaara-erp.com
REDIS_PORT=6379
REDIS_PASSWORD=__REPLACE_WITH_REDIS_PASSWORD__
REDIS_DB=0
REDIS_SSL=true

# ===========================================================================
# Multi-Tenancy
# ===========================================================================
MULTI_TENANCY_ENABLED=true
DEFAULT_TENANT_SCHEMA=public
TENANT_HEADER=X-Tenant-ID

# ===========================================================================
# Email Configuration (SMTP)
# ===========================================================================
MAIL_SERVER=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USE_SSL=false
MAIL_USERNAME=apikey
MAIL_PASSWORD=__REPLACE_WITH_SENDGRID_API_KEY__
MAIL_DEFAULT_SENDER=noreply@gaara-erp.com

# ===========================================================================
# Storage Configuration (S3/MinIO)
# ===========================================================================
STORAGE_TYPE=s3
S3_BUCKET=gaara-erp-production
S3_REGION=me-south-1
S3_ACCESS_KEY=__REPLACE_WITH_S3_ACCESS_KEY__
S3_SECRET_KEY=__REPLACE_WITH_S3_SECRET_KEY__
S3_ENDPOINT=https://s3.me-south-1.amazonaws.com

# ===========================================================================
# Logging & Monitoring
# ===========================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
SENTRY_DSN=__REPLACE_WITH_SENTRY_DSN__
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ===========================================================================
# Rate Limiting
# ===========================================================================
RATELIMIT_ENABLED=true
RATELIMIT_DEFAULT=1000/hour
RATELIMIT_STORAGE_URL=redis://:__REDIS_PASSWORD__@redis.gaara-erp.com:6379/1

# ===========================================================================
# CORS Settings
# ===========================================================================
CORS_ORIGINS=https://gaara-erp.com,https://www.gaara-erp.com,https://app.gaara-erp.com
CORS_ALLOW_CREDENTIALS=true

# ===========================================================================
# AI/ML Services (Optional)
# ===========================================================================
OPENAI_API_KEY=__REPLACE_IF_USING_AI__
AI_SERVICE_ENABLED=false

# ===========================================================================
# External Services
# ===========================================================================
# SMS (Twilio)
TWILIO_ACCOUNT_SID=__REPLACE_IF_USING_SMS__
TWILIO_AUTH_TOKEN=__REPLACE_IF_USING_SMS__
TWILIO_PHONE_NUMBER=__REPLACE_IF_USING_SMS__

# Payment Gateway
PAYMENT_GATEWAY=stripe
STRIPE_SECRET_KEY=__REPLACE_IF_USING_PAYMENTS__
STRIPE_WEBHOOK_SECRET=__REPLACE_IF_USING_PAYMENTS__

# ===========================================================================
# Feature Flags
# ===========================================================================
FEATURE_MFA_ENABLED=true
FEATURE_AUDIT_LOG=true
FEATURE_API_DOCS=false
FEATURE_DEBUG_TOOLBAR=false

# ===========================================================================
# Workers & Background Tasks (Celery)
# ===========================================================================
CELERY_BROKER_URL=redis://:__REDIS_PASSWORD__@redis.gaara-erp.com:6379/2
CELERY_RESULT_BACKEND=redis://:__REDIS_PASSWORD__@redis.gaara-erp.com:6379/3
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=Asia/Riyadh
CELERY_ENABLE_UTC=true
